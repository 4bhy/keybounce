<%- include('../partials/adminHeader') %>

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script  src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.print.min.js"></script>
<link rel="stylesheet" type="text/css" href="/DataTables/datatables.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">


<form class="form-inline float-right mt-4" action="/admin/addcategory" method="post">
    <div class="form-group mx-sm-3 mb-2">
      <input type="text" class="form-control" name="category" id="inputPassword2" placeholder="Enter category">
    </div>
    <button type="submit" class="btn btn-primary mb-2 mr-4">Add</button>
  </form>

<div class="container mt-4 col-lg-5">
<table class="table" id="myTable">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Category</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
        <% if(category.length>0) {
            for(let i=1;i<=category.length;i++){ %>
      <tr>
        <th scope="row"><%=i %></th>
        <td><%=category[i-1].categories%></td>
        <form action="/admin/delcategory?id=<%=category[i-1]._id %>" method="post">
            <td><button type="submit" class="btn-primary">Delete</button></td>
        </form>
      </tr>
      <% }}%>
    </tbody>
  </table>
  <script>
    $(document).ready(function() {
    $('#myTable').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
} )
    </script>
 
  </div>
